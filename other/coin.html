<!--
---
permalink: /other/coin
---
-->

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" media="screen and (min-width: 901px)" href="https://www.dylancarroll.net/CSS/desktop.css" />
    <link rel="stylesheet" media="screen and (max-width: 900px)" href="https://www.dylancarroll.net/CSS/mobile.css" />
    
    <link rel="stylesheet" href="https://www.dylancarroll.net/CSS/style.css">
</head>

<body>


<table id="MainTable">
    
    <tr id="MobileTitleRow">
        <td></td>

        <td id="MobileTitlecolumn">
            <a class="TitleLink" href="https://www.dylancarroll.net">Dylan Carroll</a>
        </td>
    </tr>
    <tr id = "MobileTitleDiv"></tr>


    <tr id="TopBarRow">
        
        <td id="DesktopTitleColumn">
            <a class="TitleLink" href="https://www.dylancarroll.net">Dylan Carroll</a>
        </td>
        <td id="TitleDivColumn" > <div id="TitleDiv"></div> </td>
        
        
        <td>
            <table id="NavTable">
                <tr>
                    <td><a class="NavLink" href="https://www.dylancarroll.net/about">About</a></td>
                    <td><a class="NavLink" href="https://www.dylancarroll.net/animation">Animation</a></td>
                    <td><a class="NavLink" href="https://www.dylancarroll.net/programming">Programming</a></td>
                </tr>
                <tr>
                    
                    <td><a class="NavLink" href="https://www.dylancarroll.net/contact">Contact</a></td>
                    <td><a class="NavLink" href="https://www.dylancarroll.net/other">Other</a></td>
                </tr>
            </table>

        </td>
    </tr>
    
    <tr><td id = "ContentPad"></td></tr>

    <tr id="BodyRow"> 
        <table id="BodyTable"><tr>
            <td id="BodyEdge"></td>

            <td>
                <div id="BodyDiv">

                    <h1 style="margin-left: 84pt">Toss a Coin!</h1>
                    <canvas id="DrawCanvas" width="500px", height="500px" onclick="beginFlip()">

                        <p>Error, could not display javascript</p>

                    </canvas>
                    
                    

                </div>
            </td>


            <td id="BodyEdge"></td>
        </tr></table>
    </tr>

</table>

</body>

<script>
    const SIZE = 100;
    const MAXSIZE = 1.25
    const FLIPPINGTIME = 200;

    const MINFLIPS = 5;
    const FLIPRANGE = 6;
    var center = 500 - 250

    
    var canvas = document.getElementById("DrawCanvas");
    var ctx = canvas.getContext("2d");

    var dt = 0;
    var t = 2*Math.PI;
    var flipDistance = 2*Math.PI;

    draw(t);
    update(ctx);
    beginFlip()

    function beginFlip(){
        t = 0
        flipDistance = Math.floor(Math.random()*FLIPRANGE + MINFLIPS) * Math.PI;

        dt = flipDistance/FLIPPINGTIME;

    }

    function update(){
        if(t < flipDistance){
            draw(t)
            t += dt;
        }
        else{
            t = flipDistance;
        }

        requestAnimationFrame(update)
    }

    function draw(t){
        //fill the screen white
        ctx.fillStyle = "rgb(255, 255, 255)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        var color =  (Math.cos(t) < 0) ? "rgb(0, 128, 255)" : "rgb(0, 192, 255)";
        
        var currentSize = SIZE * (Math.sin(Math.PI* (t/flipDistance) )*MAXSIZE + 1)
        var coinWidth = Math.floor(Math.abs(Math.cos(t) * currentSize));
        

        console.log(t/flipDistance, currentSize);

        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.ellipse(center, center, coinWidth, currentSize, 0, 0, 2 * Math.PI);
        ctx.fill()
    }
</script>

</html>
